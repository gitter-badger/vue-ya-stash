/**
  * vue-ya-stash v0.0.2
  * (c) 2017 Evan You
  * @license MIT
  */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.VueYaStash=o()}(this,function(){"use strict";function t(t){for(var o=[],n=(t.startsWith("[")?"":".")+t;n;){var u=void 0;if((u=e.exec(n))||((u=i.exec(n))?u[1]=parseInt(u[1]):(u=s.exec(n))&&(u[1]=u[1].replace(r,""),u[1]=u[1].replace(a,""))),!u||0!==u[1]&&!u[1])throw Error("Bad path '"+n+"' in '"+t+"'");o.push(u[1]),n=u[2]}return o}function o(t,o,n,e){return o.reduce(function(t,i){if(!t)throw Error(i+"'s mother is undfined among "+o+'. Possibly "'+e[n-1]+'" is typo?');return t[i]},t)}function n(t){}var e=/^\.([_a-zA-Z$][\w$]*)(.*)$/,i=/^\[(\d+)\](.*)/,s=/^(\['.*?'\]|\[".*?"\])(.*)$/,r=/(^\[)|(\]$)/g,a=/(^['"]|['"]$)/g,u={beforeCreate:function(){var n=this;this===this.$root&&(this.$options.data||(this.$options.data={}),this.$options.data["$stash/store"]=this.$options.stashStore);var e=this.$root.$options.data["$stash/store"];if(void 0!==e){var i=this.$options.stash;if(void 0!==i)if(void 0===this.$options.computed&&(this.$options.computed={}),Array.isArray(i))i.forEach(function(i){n.$options.computed[i]=function(){return e[i]},n.$on("update:"+i,function(t){return n.$set(e,i,t)}),n.$on("patch:"+i,function(s,r){var a=t(s),u=a.pop(),f=o(e[i],a);n.$set(f,u,r)})});else if("object"==typeof i){for(var s in i)!function(s){var r=i[s],a=t("object"==typeof r?r.stash||s:r||s);n.$options.computed[s]=function(){return o(e,a)};var u=a.slice(0,-1),f=a[a.length-1];n.$on("update:"+s,function(t){return n.$set(o(e,u),f,t)}),n.$on("patch:"+s,function(i,s){var r=t(i),u=a.concat([r.slice(0,-1)]),f=i[i.length-1],c=o(e,u);n.$set(c,f,s)})}(s)}}}};return n.install=function(t){this.installed||t.mixin(u)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),n});
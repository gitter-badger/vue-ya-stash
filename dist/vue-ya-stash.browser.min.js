!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.VueYaStash=factory():root.VueYaStash=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function stashReducer(obj,keys){return keys.reduce(function(pv,cv){return pv[cv]},obj)}function plugin(Vue){plugin.installed||Vue.mixin(stashMixin)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},stashMixin={beforeCreate:function(){var _this=this;this===this.$root&&(console.log("this is root"),console.log(this),this.$options.data||(this.$options.data={}),this.$options.data["$stash/store"]=this.$options.stashStore);var stash=this.$root.$options.data["$stash/store"],options=this.$options.stash;if(options&&(console.log(options),console.log(stash),console.log(this.$root)),void 0!==stash)if(void 0===this.$options.computed&&(this.$options.computed={}),Array.isArray(options))options.forEach(function(property){_this.$options.computed[property]=function(){return stash[property]},_this.$on("update:"+property,function(value){return _this.$set(stash,property,value)}),_this.$on("patch:"+property,function(obj,key,value){_this.$set(obj,key,value)})});else if("object"===(void 0===options?"undefined":_typeof(options))){for(var key in options)!function(){var conf=options[key],pathStr="";if(pathStr="object"===(void 0===conf?"undefined":_typeof(conf))?conf.stash||key:conf,pathStr.endsWith("]"))throw new Error("vue-ya-stash doesn't support array element as an end point");var path=pathStr.split(/[.[\]]+/),reduced=stashReducer(stash,path.slice(0,-1)),last=path[path.length-1];_this.$options.computed[key]=function(){return reduced[last]},_this.$on("update:"+key,function(value){return _this.$set(reduced,last,value)}),_this.$on("patch:"+key,function(obj,key,value){return _this.$set(obj,key,value)})}()}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(plugin),__webpack_exports__.default=plugin}])});